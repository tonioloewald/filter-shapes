{"mappings":";;;;;;;;;;ACAA;AAEO,MAAM,4CAAc,CAAC,UAAiB,MAAkC;IAC7E,IAAI,CAAC,MAAM,OAAO,CAAC,MACjB,OAAO;IAET,IAAI,SAAS,MAAM,KAAK,GACtB,OAAO;WAAI;KAAI;IAEjB,MAAM,SAAS,EAAE;IACjB,KAAK,MAAM,QAAQ,IAAK;QACtB,MAAM,eAAe,AAAC,SAAU,IAAI,CAAC,CAAA,WAAY,CAAA,GAAA,qCAAQ,EAAE,UAAU,MAAM,MAAM,KAAK;QACtF,IAAI,iBAAiB,WACnB,OAAO,IAAI,CAAC,0CAAO,cAAc;IAErC;IACA,OAAO;AACT;AAEO,MAAM,4CAAe,CAAC,UAAe,MAA8B;IACxE,IAAI,CAAA,GAAA,qCAAQ,EAAE,UAAU,KAAK,MAAM,GAAG,GACpC,OAAO;IAET,MAAM,SAAc,CAAC;IACrB,KAAK,MAAM,OAAO,OAAO,IAAI,CAAC,UAAW;QACvC,MAAM,QAAQ,0CAAO,QAAQ,CAAC,IAAI,EAAE,GAAG,CAAC,IAAI;QAC5C,IAAI,UAAU,WACZ,MAAM,CAAC,IAAI,GAAG;IAElB;IACA,OAAO;AACT;AAEO,MAAM,4CAAS,CAAC,UAAe,MAAkB;IACtD,IAAI,QAAQ,aAAa,QAAQ,IAAI,EACnC,OAAO;SACF,IAAI,OAAO,QAAQ,YAAa,CAAA,GAAA,qCAAQ,EAAE,UAAU,KAAK,MAAM,GAAG,GACvE,OAAO;SACF,IAAI,MAAM,OAAO,CAAC,WACvB,OAAO,0CAAY,UAAU;SACxB,IAAI,OAAO,QAAQ,UACxB,OAAO,0CAAa,UAAU;SAE9B,OAAO,AAAC,CAAA,GAAA,qCAAS,AAAD,EAAE,UAAU,KAAK,MAAM,GAAG,IAAK,YAAY,GAAG;AAElE;;AD7CA","sources":["src/index.ts","src/filter.ts"],"sourcesContent":["export * from './filter'\nexport { matchType } from 'type-by-example'\n","import { matchType } from 'type-by-example'\n\nexport const filterArray = (template: any[], obj: any[]): any[] | undefined => {\n  if (!Array.isArray(obj)) {\n    return undefined\n  }\n  if (template.length === 0) {\n    return [...obj]\n  }\n  const output = []\n  for (const item of obj) {\n    const itemTemplate = (template).find(possible => matchType(possible, item).length === 0)\n    if (itemTemplate !== undefined) {\n      output.push(filter(itemTemplate, item))\n    }\n  }\n  return output\n}\n\nexport const filterObject = (template: any, obj: any): any | undefined => {\n  if (matchType(template, obj).length > 0) {\n    return undefined\n  }\n  const output: any = {}\n  for (const key of Object.keys(template)) {\n    const value = filter(template[key], obj[key])\n    if (value !== undefined) {\n      output[key] = value\n    }\n  }\n  return output\n}\n\nexport const filter = (template: any, obj: any): any => {\n  if (obj === undefined || obj === null) {\n    return undefined\n  } else if (typeof obj !== 'object' && (matchType(template, obj).length > 0)) {\n    return undefined\n  } else if (Array.isArray(template)) {\n    return filterArray(template, obj)\n  } else if (typeof obj === 'object') {\n    return filterObject(template, obj)\n  } else {\n    return (matchType(template, obj).length > 0) ? undefined : obj\n  }\n}\n"],"names":[],"version":3,"file":"index.js.map"}